#include <string.h>
#include <stdio.h>
#include <stdint.h>
#include <stddef.h>
#include <unistd.h>

void func(char* str){
  unsigned int is_user_admin = 0;
  char destination_buffer[32];

  // A dangerous strcpy!
  strcpy(destination_buffer, str);

  // Check if the user is admin
  if(is_user_admin == 0){
    printf("The user is NOT admin.\n");
  }
  else if(is_user_admin == 120){
    printf("The user is an admin! Congrats!\n");
  }
  else{
    printf("The user admin flag (is_user_admin = %u) is corrupted.\n",is_user_admin);
  }
}


int main(int argc, char* argv[]){
  // Pass the first argument to the program to func
  if(argc != 2){
    printf("Usage: %s input-string\n", argv[0]);
    return -1;
  }

  func(argv[1]);

}
